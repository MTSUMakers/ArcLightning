
<!DOCTYPE html>
<html lang="en">
    <head>
         <link href="https://fonts.googleapis.com/css?family=Do+Hyeon" rel="stylesheet">
	
        <meta name="viewport" content="width=device-width, initial-scale=1">  
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">


        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <!-- Latest compiled and minified JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <!-- production version, optimized for size and speed -->
        <script src="https://cdn.jsdelivr.net/npm/vue"></script>
	<style>
 	h1{
         	font-family: 'Do Hyeon', sans-serif;
         	font-size:64px;
       }
	
	.selectedClass {
		background-color: blue;
	}
	.unselectedClass {
		border: 1px solid black;
		height: 42vh;
		padding: 10px;
		margin-bottom: 15px;
		margin-left: 20px;
		margin-right: 20px;
	}
	</style>
    </head>
    <body>
        <div class="container-fluid">
	   <div>
		<h1>Arc Lightning</h1>
	   </div>
            <div class="row" id="games">
                <div class="col-sm-2 unselectedClass" v-for="(item,index) in items" v-bind:class="{ selectedClass: index == selectedIndex }" >
	
		<img style="display:block;position:relative;height:90%; width:90%; margin-left: auto; margin-right:auto; "src v-bind:src= "item.thumbnail_path"  />
                <div style="text-align: center; border-top: 1px solid black; font-family: 'Do Hyeon', sans-serif; font-size: 24px;"> {{ item.name }}</div>	
                
		</div>
            </div>
        </div>
    </body>
    <script type="text/javascript">
        var app = new Vue({
            el: '#games',
	    created(){
		this.onKeyDown = this.onKeyDown.bind(this);
		document.addEventListener('keydown', this.onKeyDown);
	    },
            data: {
		selectedIndex: 0,
                items: [
                    {name: "Super Smash Bros", description: "crossover fighting game", genre: ["fighter", "crossover"], thumbnail_path: 'images/peach.png', exe_path: 'C:\\Users\\THISUSER\\SMASHBROS_PATH'},
                    {name: "Touhou", description: "bullet hell with waifus", genre: ["bullet hell", "anime"], thumbnail_path: 'images/touhouWaifu.png', exe_path: 'C:\\Users\\THISUSER\\TOUHOU_PATH'},
                    {name: "Melty Blood", description: "fighter with waifus", genre: ["fighter", "anime", "2d"], thumbnail_path: 'images/meltyBloodWaifu.jpg', exe_path: 'C:\\Users\\THISUSER\\MELTYBLOOD_PATH'},
                    {name: "Super Smash Bros", description: "crossover fighting game", genre: ["fighter", "crossover"], thumbnail_path: 'images/peach.png', exe_path: 'C:\\Users\\THISUSER\\SMASHBROS_PATH'},
                    {name: "Melty Blood", description: "fighter with waifus", genre: ["fighter", "anime", "2d"], thumbnail_path: 'images/meltyBloodWaifu.jpg', exe_path: 'C:\\Users\\THISUSER\\MELTYBLOOD_PATH'},
                    {name: "Touhou", description: "bullet hell with waifus", genre: ["bullet hell", "anime"], thumbnail_path: 'images/touhouWaifu.png', exe_path: 'C:\\Users\\THISUSER\\TOUHOU_PATH'},

                    {name: "Melty Blood", description: "fighter with waifus", genre: ["fighter", "anime", "2d"], thumbnail_path: 'images/meltyBloodWaifu.jpg', exe_path: 'C:\\Users\\THISUSER\\MELTYBLOOD_PATH'},
                    {name: "Super Smash Bros", description: "crossover fighting game", genre: ["fighter", "crossover"], thumbnail_path: 'images/peach.png', exe_path: 'C:\\Users\\THISUSER\\SMASHBROS_PATH'},
                    {name: "Melty Blood", description: "fighter with waifus", genre: ["fighter", "anime", "2d"], thumbnail_path: 'images/meltyBloodWaifu.jpg', exe_path: 'C:\\Users\\THISUSER\\MELTYBLOOD_PATH'},
                    {name: "Touhou", description: "bullet hell with waifus", genre: ["bullet hell", "anime"], thumbnail_path: 'images/touhouWaifu.png', exe_path: 'C:\\Users\\THISUSER\\TOUHOU_PATH'},

	]
            },

	methods: {
		sendSelectedGame: function() {
			//check to see if game exists
			var gameSelected = this.items[this.selectedIndex].exe_path
			if (gameSelected)
				$.ajax({ 
					type: 'POST',
					url: 'http://localhost:8080',
					//sends path to executable for selected game
					data: {id: gameSelected},
				})
		},

		onKeyDown(e){
			switch(e.keyCode){
				//case 38 is down arrow, case 40 is up arrow.
				//38 and 40 will have to be changed to be able to be more dynamic because right nwo its simply based off of 5 columns, 2 rows
				case 37:
					if(this.selectedIndex != 0){
						this.selectedIndex--;
					}break;
				case 38:
					if(this.selectedIndex >= 5){ 
						this.selectedIndex -= 5;
					}break;
				case 39:
					if(this.selectedIndex != this.items.length-1){
						this.selectedIndex++;
					}break;
				case 40:
					if(this.selectedIndex < 5){ 
						this.selectedIndex += 5;
					}break;
				case 13:
					this.sendSelectedGame();
					break;	 
			}
		}
	},
        });
    </script>
</html>
